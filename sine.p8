pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
--sine boxrender
 --by lumiette

 --game
 function sine(amplitude, speed, phase)
   phase=phase or 1
   return amplitude * (sin((t+phase/pi)*speed))
 end

 function draw_sine(spd,phs,tl,br,colour,thickness, border, bg)
 -- params: speed, phase, 
 --         top-left xy, bottom-right xy,
 --         wave colour, border colour, background colour 
  bg=bg or false  border=border or false  colour=colour or 7  thickness=thickness or 2
  tl=tl or {64-32,64-16} br=br or {64+32, 64+16}
  tx=tl[1] ty=tl[2] bx=br[1] by=br[2]
  x=bx-tx y=by-ty-1+thickness

  if border then
   rectfill(tx,ty,bx,by+3,border) 
   rectfill(tx+1,ty+1,bx-1,by+2,bg) end
  for j=1,thickness do
    for i=0,x-2 do
     wave=sine(y/2,spd,phs+i)
     pset(i+tx+1,ty+(y-1)/2-(j/2)+j+wave+1,colour)
    end
   end
 end

 function _init()
   t=0 pi=3.14159265359
 end

 function _update60()
   t+=0.5
 end

 function _draw()
  cls()
  draw_sine(0.050, t*0.4, {1,1}, {30,8}, 12, nil, 12, 1)
  draw_sine(0.10, t*0.2, {32,1}, {62,8}, 11, nil, 11, 3)
  draw_sine(0.20, t*0.1, {64,1}, {94,8}, 10, nil, 4, 9)
  draw_sine(0.40, t*0.1, {96,1}, {125,8}, 8, nil, 8, 2)
  draw_sine(0.05, t*0.8, {1,20}, {127,36}, 5, nil, 0, 0)
  draw_sine(0.10, t*0.01, {1,18}, {127,36}, 6, 3, false, false)
  spr(1,92,100,4,4)
  draw_sine(0.15, t/4, {97,105}, {97+22,115}, 10, 1, nil, nil)
  draw_sine(0.15, t/4, {97,106}, {97+22,116}, 11, 1, nil, nil)
  spr(5,92,100,4,2)
  print ("draw_sine(freq, phase, xy1, xy2,",2,44,7)
  print ("[wave colour, thickness,",22,50,6)
  print ("colour, colour])",22,56,5)

  print ("it's not perfect, but i hope",8,74,14)
  print ("  it helps you, somehow!",12,80,14)
  print ("(maybe as a quick 'n dirty",12,92,2)
  print ("visual effect)",34,98,2)
 end
__gfx__
0000000000050000000900000009000000000000000000000009a9a9a9a9a9a9a9a9a9a9a9a9a000000000000000000000000000000000000000000000000000
0000000000686000009a9000009a9000000000000000000000a53333333333333333333333335900000000000000000000000000000000000000000000000000
007007000016100000090000000900000000000000000000093353333333333333333333333533a0000000000000000000000000000000000000000000000000
000770000026200000050000000500000000000000000000a3333533933333333333333333533339000000000000000000000000000000000000000000000000
0007700006666600000500000005000000000000000000009333333393333333363333333533333a000000000000000000000000000000000000000000000000
007007000619160000505000005550000000000000000000a3333333933333333363333353333339000000000000000000000000000000000000000000000000
0000000099898990050005000050500000000000000000009333333633333333666666333333333a000000000000000000000000000000000000000000000000
000000005005005005000500005050000000000000000000a3333366363666366666666333333339000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000009333333333336666666663333339933a000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000a3333333336666666666666363633339000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000009333333336666666666666636333333a000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000a3333336666666666a00a66666333339000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000009333336666666666660066666633633a000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000a3333336666666666a00a66666633339000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000009333336666666666660066666663333a000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000a3333336666666666a00a66666633339000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000009333336666666666666666666663333a933333666666666666666666a9a9a9a90000000000000000
000000000000000000000000000000000000000000000000a3333366666666666666666666633339a33333666666666666666666333333330000000000000000
0000000000000000000000000000000000000000000000009333336666666666666666666663333a933333666666666666666666333333330000000000000000
000000000000000000000000000000000000000000000000a33333666666666666a66a6666663339a33333666666666666666666933333330000000000000000
0000000000000000000000000000000000000000000000009333336666666666666806666666333a933333666666666666666666933333330000000000000000
000000000000000000000000000000000000000000000000a3333666666666666660866666633339a33333666666666666666666933333330000000000000000
000000000000000000000000000000000000000000000000933366666666666666a66a666663333a933333666666666666666666333333330000000000000000
000000000000000000000000000000000000000000000000a3339669666666666666666669663339a33336396666666666666666363666360000000000000000
0000000000000000000000000000000000000000000000009333000066666666666666666999333a933333336666666666666666366666660000000000000000
000000000000000000000000000000000000000000000000a3330700666666666669666666693339a33399333666666666666666366966660000000000000000
0000000000000000000000000000000000000000000000009333007066663666666693666333333a933309935556366666663666663633630000000000000000
000000000000000000000000000000000000000000000000a3330000333633333333333333333339a33393555336333333363333333333330000000000000000
0000000000000000000000000000000000000000000000009333933933333333333333333333333a933355393333333333333333333333330000000000000000
0000000000000000000000000000000000000000000000000a3333333333333333333333333333900a3553333333333333333333333333330000000000000000
00000000000000000000000000000000000000000000000000933333333333333333333333333a00009333333333333333333333333333330000000000000000
000000000000000000000000000000000000000000000000000a9a9a9a9a9a9a9a9a9a9a9a9a9000000a9a9a9a9a9a9a9a9a9a9a9a9a9a9a0000000000000000
__gff__
0002020000000000000000000000000000000000000000000000000000000000000000000000000000000202020200000000000000000000000002020202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0036000000000000000000000000002900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000362727272727272727272738373900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000003a3b373738373737373900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000060807090000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000607172727270809000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0006071718182727272727080808080900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
